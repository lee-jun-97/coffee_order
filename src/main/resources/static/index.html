<!DOCTYPE html>
<html lang="ko">
<head>
	<title>Main</title>
	<meta charset="utf-8"/>
</head>
<body>
	<h1>Menu</h1>
	<p>Coffee Order System</p>
	<img src="/img/Americano.jpg" width="100px"/>
	<p>4500원</p>
	<!--<form name="order"method="POST" action="/order">
		<div>아이스 아메리카노<input name="cnt" placeholder="갯수 입력"/></div>
		<button type="submit" id="payment-button">결제하기</button>
	</form>
	-->
	<section>
		<div>아이스 아메리카노<input id="itemcnt" name="cnt" placeholder="갯수 입력"/></div>
		<button type="submit" id="payment-button">결제하기</button>
	</section>
	<script src="https://js.tosspayments.com/v1"></script>
	<script>
	    var tossPayments = TossPayments("test_ck_JQbgMGZzorzzXdypGB7rl5E1em4d");
	    var button = document.getElementById("payment-button");
	    
	    var orderId = new Date().getTime();
	
	    button.addEventListener("click", function () {
		
			var cnt = document.getElementById("itemcnt").value;
			var cost = parseInt(cnt)*4500;
			
	        var method = "가상계좌"; // "카드" 혹은 "가상계좌"
	
	        var paymentData = {
	            amount: cost,
	            orderId: orderId,
	            orderName: "아이스 아메리카노",
	            customerName: "이 준",
	            successUrl: window.location.origin + "/success",
	            failUrl: window.location.origin + "/fail",
	        };
	
	        tossPayments.requestPayment(method, paymentData);
	    });
	</script>
</body>